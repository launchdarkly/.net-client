<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FileDataSourceFactory.WithParser Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="WithParser method" /><meta name="System.Keywords" content="FileDataSourceFactory.WithParser method" /><meta name="Microsoft.Help.F1" content="LaunchDarkly.Client.Files.FileDataSourceFactory.WithParser" /><meta name="Microsoft.Help.Id" content="M:LaunchDarkly.Client.Files.FileDataSourceFactory.WithParser(System.Func{System.String,System.Object})" /><meta name="Description" content="Specifies an alternate parsing function to use for non-JSON source files." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="LaunchDarkly.Client.Files" /><meta name="file" content="M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithParser" /><meta name="guid" content="M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithParser" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">LaunchDarkly Server-Side SDK for .NET 5.14.0<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/R_Project_Documentation.htm" title="LaunchDarkly Server-Side SDK for .NET 5.14.0" tocid="roottoc">LaunchDarkly Server-Side SDK for .NET 5.14.0</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/R_Project_Documentation.htm" title="Namespaces" tocid="R_Project_Documentation">Namespaces</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/N_LaunchDarkly_Client_Files.htm" title="LaunchDarkly.Client.Files" tocid="N_LaunchDarkly_Client_Files">LaunchDarkly.Client.Files</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/T_LaunchDarkly_Client_Files_FileDataSourceFactory.htm" title="FileDataSourceFactory Class" tocid="T_LaunchDarkly_Client_Files_FileDataSourceFactory">FileDataSourceFactory Class</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/Methods_T_LaunchDarkly_Client_Files_FileDataSourceFactory.htm" title="FileDataSourceFactory Methods" tocid="Methods_T_LaunchDarkly_Client_Files_FileDataSourceFactory">FileDataSourceFactory Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_LaunchDarkly_Client_Files_FileDataSourceFactory_CreateUpdateProcessor.htm" title="CreateUpdateProcessor Method " tocid="M_LaunchDarkly_Client_Files_FileDataSourceFactory_CreateUpdateProcessor">CreateUpdateProcessor Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithAutoUpdate.htm" title="WithAutoUpdate Method " tocid="M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithAutoUpdate">WithAutoUpdate Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithDuplicateKeysHandling.htm" title="WithDuplicateKeysHandling Method " tocid="M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithDuplicateKeysHandling">WithDuplicateKeysHandling Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithFilePaths.htm" title="WithFilePaths Method " tocid="M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithFilePaths">WithFilePaths Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithFileReader.htm" title="WithFileReader Method " tocid="M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithFileReader">WithFileReader Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithParser.htm" title="WithParser Method " tocid="M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithParser">WithParser Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithPollInterval.htm" title="WithPollInterval Method " tocid="M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithPollInterval">WithPollInterval Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithSkipMissingPaths.htm" title="WithSkipMissingPaths Method " tocid="M_LaunchDarkly_Client_Files_FileDataSourceFactory_WithSkipMissingPaths">WithSkipMissingPaths Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>FileDataSourceFactory<span id="LST3B64C673_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3B64C673_0?cpp=::|nu=.");</script>WithParser Method </h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Specifies an alternate parsing function to use for non-JSON source files.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="N_LaunchDarkly_Client_Files.htm">LaunchDarkly.Client.Files</a><br />
    <strong>Assembly:</strong>
   LaunchDarkly.ServerSdk (in LaunchDarkly.ServerSdk.dll) Version: 5.14.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EBCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EBCA','cs','1','2');return false;">C#</a></div><div id="ID0EBCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EBCA','vb','2','2');return false;">VB</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EBCA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EBCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EBCA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="identifier">FileDataSourceFactory</span> <span class="identifier">WithParser</span>(
	<span class="identifier">Func</span>&lt;<span class="identifier">string</span>, <span class="identifier">Object</span>&gt; <span class="parameter">parseFn</span>
)</pre></div><div id="ID0EBCA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Function</span> <span class="identifier">WithParser</span> ( 
	<span class="parameter">parseFn</span> <span class="keyword">As</span> <span class="identifier">Func</span>(<span class="keyword">Of</span> <span class="identifier">String</span>, <span class="identifier">Object</span>)
) <span class="keyword">As</span> <span class="identifier">FileDataSourceFactory</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EBCA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">parseFn</span></dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.func-2" target="_blank">System<span id="LST3B64C673_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3B64C673_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Func</a><span id="LST3B64C673_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3B64C673_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="https://docs.microsoft.com/dotnet/api/system.string" target="_blank">String</a>, <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank">Object</a><span id="LST3B64C673_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3B64C673_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />the parsing function</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="T_LaunchDarkly_Client_Files_FileDataSourceFactory.htm">FileDataSourceFactory</a><br />the same factory object</div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID2RBSection" class="collapsibleSection"><p>
            By default, the file data source attempts to parse files as JSON objects. You may wish to use another format,
            such as YAML. To avoid bringing in additional dependencies that might conflict with application dependencies,
            the LaunchDarkly SDK does not import a YAML parser, but you can use <span class="code">WithParser</span> to specify a parser of
            your choice.
            </p><p>
            The function you provide should take a string and return an <span class="code">object</span> which should contain only the basic
            types that can be represented in JSON: so, for instance, string values should be <span class="code">string</span>, arrays should
            be <span class="code">List</span>, and objects with key-value pairs should be <span class="code">Dictionary&lt;string, object&gt;</span>. It should
            throw an exception if it can't parse the data.
            </p><p>
            The file data source will still try to parse files as JSON if their first non-whitespace character is '{',
            but if that fails, it will use the custom parser.
            </p><p>
            Here is an example of how you would do this with the <span class="code">YamlDotNet</span> package:
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAACBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAACBA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAACBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">var</span> yaml = <span class="highlight-keyword">new</span> DeserializerBuilder().Build();
<span class="highlight-keyword">var</span> source = FileComponents.FileDataSource()
    .WithFilePaths(myYamlFilePath)
    .WithParser(s =&gt; yaml.Deserialize&lt;<span class="highlight-keyword">object</span>&gt;(s));</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAACBA");</script></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID3RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_LaunchDarkly_Client_Files_FileDataSourceFactory.htm">FileDataSourceFactory Class</a></div><div class="seeAlsoStyle"><a href="N_LaunchDarkly_Client_Files.htm">LaunchDarkly.Client.Files Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>